<script type="text/javascript">
function get_results_count(){var e=0;return $(".sgsc-result-area [data-sgsc-count]").each(function(){var t=parseInt($(this).attr("data-sgsc-count"),10);e<t&&(e=t)}),e+1}$(document).ready(function(){$('.sgsc-sidebar-item[draggable="true"]').attr("draggable","true"),$(".sgsc-sidebar-item").on("dragstart",function(t){var e=$(this).attr("sgsc-element-name"),a=$(this).attr("element-icon"),s=$(this).closest("[sgsc-drag-item-type]").attr("sgsc-drag-item-type"),s=JSON.stringify({sgscElementName:e,icon:a,item_type:s});t.originalEvent.dataTransfer.setData("text/plain",s)}),$(".sgsc-result-area").on("dragover",function(t){t.preventDefault(),$(this).addClass("drag-over")}).on("dragleave",function(t){$(this).removeClass("drag-over")}),$(".sgsc-result-area").on("drop",function(t){t.preventDefault(),$(this).removeClass("drag-over");var e=t.originalEvent.dataTransfer.getData("text/plain"),a=JSON.parse(e),s=a.sgscElementName,e=a.icon;if("inputs"==a.item_type)return alert("This item can only be inserted in inputs area."),0;a=get_results_count();if(4<$(".sgsc-result-area [data-sgsc-count]").length)return alert_sgsc_msg("results"),0;$('[data-result-template="1"]').find("[data-sgsc-element-type]").attr("class",""),$('[data-result-template="1"]').find("[data-sgsc-element-type]").addClass(e),$('[data-result-template="1"]').find("[data-sgsc-element-type]").text(s),$('[data-result-template="1"]').find("[data-sgsc-count]").text("{Result_"+a+"}"),$('[data-result-template="1"]').find("[data-sgsc-count]").attr("data-sgsc-count",a),$('[data-result-template="1"]').find("[euid]").attr("euid","result_"+a),$('[data-result-template="1"]').find("[e-id]").attr("e-id","result_"+a),$('[data-result-template="1"]').find("[e-type]").attr("e-type",s),$('[data-result-template="1"]').find("[desc-id]").attr("desc-id","result_"+a),$('[data-result-template="1"]').find("[d-id]").attr("d-id","result_"+a);var r=$('[data-result-template="1"]').html(),n=t.originalEvent.clientY,i=!1;$(".sgsc-dropped-item",this).each(function(){var t=$(this).offset().top+$(this).outerHeight();if(n<t)return $(this).before(r),!(i=!0)}),i||$(this).append(r),$(".sgsc-result-area .placeholder-div").remove(),format_seperator_inputs()})}),$(document).ready(function(){$(".sgsc-result-area").sortable({items:".sgsc-dropped-item[sgsc-item='movable']",placeholder:"sortable-placeholder",cursor:"move",containment:"parent",tolerance:"pointer",update:function(t,e){save_sgsc_config()}}).disableSelection()});
</script>